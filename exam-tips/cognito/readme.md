# Cognito
## Concepts

**Amazon Cognito provides authentication, authorization, and user management for your web and mobile apps**. Your users can sign in directly with a user name and password, or through a third party such as Facebook, Amazon, Google or Apple.

The two main components of Amazon Cognito are user pools and identity pools. User pools are user directories that provide sign-up and sign-in options for your app users. Identity pools enable you to grant your users access to other AWS services. You can use identity pools and user pools separately or together.

**An Amazon Cognito user pool and identity pool used together**

![Cognito](./scenario-cup-cib2.png)

### Cognito User Pools

A user pool is a **user directory** in Amazon Cognito. With a user pool, your users can sign in to your web or mobile app through **Amazon Cognito, or federate through a third-party identity provider (IdP)**. Whether your users sign in directly or through a third party, all members of the user pool have a **directory profile** that you can access through an SDK.

### JSON Web Token (JWT)

Is a **token** generated by the Identity Provider (IdP) when you **logged successfully**.

### Identity pools

With an identity pool, your users can obtain **temporary AWS credentials to access AWS services**, such as Amazon S3 and DynamoDB. Identity pools support **anonymous guest users**, as well as the following identity providers that you can use to authenticate users for identity pools.

Successful authenticated users get **temporary credentials which maps to an IAM Role**. Applications **does not need to store local credentials** on the device. 

Use JWT to generate the access credentials.

###Â Amazon Cognito Sync

Amazon Cognito Sync is an AWS service and client library that enables **cross-device syncing of application-related user data**. You can use it to synchronize user profile data across mobile devices and the web without requiring your own backend. The client libraries cache data locally so your app can read and write data regardless of device connectivity status. **When the device is online, you can synchronize data, and if you set up push sync, notify other devices immediately that an update is available**. It use SNS.


## Exam Tips
* **Federation** allows users to authenticate with a **Web Identity Provider** (Google, Facebook, Amazon).
* How it works: 
    1. User **authenticates** with **Web ID Provider**
    2. If the authentication was **successful**, it receives an **authentication token**
    3. **Authentication token** is exchanges with **AWS credentials** that allows the user to **assume an IAM role**.
* **Cognito** is an Identity Broker which handles interaction between your applications and the Web ID provider.
* **User pools** is user based. Handles thinks like registration, authentication, and account recovery.
* **Identity pools** - authorize access to your AWS resources.